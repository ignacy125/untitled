<!DOCTYPE html>
<html>
<head>



    <meta charset="UTF-8">
    <title>Gra</title>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="style.css">
    <!--<script src="attack.js"></script>-->
</head>
<body><span id="number"></span>

<script>



unit_amount = 3;
opponent_unit_amount = 3;


var minNumber = 6;
var maxNumber = 1;

var opponentNumber = randomNumberFromRange(minNumber, maxNumber);

function randomNumberFromRange(min,max)
{
    return Math.floor(Math.random()*(max-min+1))+min;
}

var your_number = randomNumberFromRange(minNumber, maxNumber);


document.write(your_number);

</script>

<script>


</script>



<img id="map" src="img/map-2.jpg" border="0" width="1920" height="1080" orgWidth="1920" orgHeight="1080" usemap="#gameMap" alt="" />
<map name="gameMap" id="gamingMap">

    <div class="country_container">
        <div id="North_West_container">
            <area  alt="" title="" href="North_west.html" shape="rect" coords="168,132,322,187" target="_self"   id="North_West"  />
        </div>
    </div>
    <div class="country_container">
        <div id="Alberta_container">
            <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="171,209,276,291" target="_self"  id="Alberta"   />
            <button> Attack </button>
            <p class="unit_amount_Alaska"> Units: <script>  document.write(opponent_unit_amount);  </script> </p>
        </div>
    </div>

    <div class="country_container">
        <div id="Ontario_container">
            <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="292,197,380,298"  target="_self"    id="Ontario" />
            <button> Attack </button>
        </div>
    </div>

    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="180,307,306,389"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="316,343,408,430"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="400,219,492,306"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="446,22,638,180"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="206,490,322,570"  target="_self"     />

    <div class="country_container">
        <div id="Alaska_container">
            <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="20,113,136,215"  target="_self"  id="Alaska"   />
            <button> Attack </button>
        </div>
    </div>

    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="438,647,560,767"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="294,582,445,635"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="341,855,456,988"  target="_self"     />

    <div class="country_container">
        <div id="Greenland_container">
            <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="329,739,406,788"  target="_self"   id="Greenland"  />
            <button> Attack </button>
        </div>
    </div>
    <div class="country_container">
        <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="624,623,794,774"  target="_self"     />
    </div>
    <div class="country_container">
        <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="806,602,915,650"  target="_self"     />
    </div>
    <div class="country_container">
        <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="878,679,978,770"  target="_self"     />
    </div>
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="801,918,944,1052"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="832,788,906,850"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="974,930,1072,1012"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="610,461,727,555"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="729,306,846,400"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="749,433,866,527"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="578,292,695,386"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="643,175,723,240"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="738,127,862,244"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="876,234,990,425"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="952,501,1076,660"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1045,354,1124,456"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1085,194,1152,320"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1170,75,1244,235"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1279,217,1340,297"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1268,337,1376,404"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1203,437,1373,511"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1132,531,1219,693"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1263,584,1350,665"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1418,100,1545,181"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1434,715,1534,796"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1255,750,1411,857"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1335,909,1435,1016"  target="_self"     />
    <area  alt="" title="" href="http://www.image-maps.com/" shape="rect" coords="1516,842,1606,1043"  target="_self"     />
    <area shape="rect" coords="1918,1078,1920,1080" alt="Image Map"  title="Image Map" href="http://www.image-maps.com/index.php?aff=mapped_users_0" />
</map>





<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


<div id="attack_confirm" title="wartosc" style="display: none">

</div>

<script>




$(document).ready(function() {

	North_West = $('#North_West');
	attack_confirm = $('#attack_confirm');

	North_West.click(function(event) {


		event.preventDefault();

		countries_to_attack = ['Alaska', 'Alberta', 'Ontario', 'Greenland'];

		$('#Alaska_container button').toggle('fade', function() {
			$(this).click(function(){
			var Alaska = countries_to_attack[0];
			attack_confirm.dialog({
			draggable: false,
			resizable: false,
			minHeight: 10,
			width: 450,
			height: 220,
			modal: true,
			buttons : {
				"Confirm" : function() { //Potwierdzenie ataku
				// Funkcja
				var attack_unit_amount = prompt("How many units You want to use to attack " + Alaska + "? You currently own " + unit_amount + " in this country.");
					if ( attack_unit_amount > unit_amount){
						alert("You don't have enough units in this country to attack!");
						return false;
					} else if ( attack_unit_amount <= 0) {
						alert("You can't attack 0 or less units");
						return false;
					} else if (isNaN(attack_unit_amount)) {
						alert("Type a number, please");
						return false;
					} else {

					function attack() {

				var oponent_result = opponentNumber;
				var your_result = your_number;

				alert("The fight have started");
				alert("Oponent's turn");
				randomNumberFromRange();
				alert("Oponent's result: " + opponentNumber);

				alert("Your Turn");
				randomNumberFromRange();
				alert("Your result: " + your_number);

				if ( your_result > oponent_result) {
					opponent_unit_amount -= 1;
					alert("You won. Your opponent lost one unit. He has " + opponent_unit_amount + " units remain");

				} else if  ( your_result < oponent_result) {
					unit_amount -= 1;
					alert("You lost and you lost one unit. You have " + unit_amount + " units remain");

				} else {
					alert("Tie");
				}

				if ( attack_unit_amount == 0) {
					alert("You lost whole game");
				} else if ( opponent_unit_amount == 0) {
					alert("You won whole game");
				}

			};

					attack();
					$('.country_container button').hide();
					}


				$(this).dialog('close');
				},
				"Cancel" : function() {
				$(this).dialog('close');
				$('.country_container button').hide();
				return false;
				}

			}
			})
			attack_confirm.dialog('option', 'title', 'Are You sure want to attack ' + Alaska + '?');
			});
		});
	    $('#Alberta_container button').toggle('fade', function() {
			$(this).click(function(){
			var Alberta = countries_to_attack[1];
			attack_confirm.dialog({
			draggable: false,
			resizable: false,
			minHeight: 10,
			width: 450,
			height: 220,
			modal: true,
			buttons : {
				"Confirm" : function() {
				// Funkcja
				$(this).dialog('close');
				},
				"Cancel" : function() {
				$(this).dialog('close');
				}
			}
			})
			attack_confirm.dialog('option', 'title', 'Are You sure want to attack ' + Alberta + '?');
			});

			/*$('#attack_confirm')
			 .data('Alaska', 'Alberta')
			 .dialog('open');
			});
			*/
		});
		$('#Ontario_container button').toggle('fade', function() {
			$(this).click(function(){
			var Ontario = countries_to_attack[2];
			attack_confirm.dialog({
			draggable: false,
			resizable: false,
			minHeight: 10,
			width: 450,
			height: 220,
			modal: true,
			buttons : {
				"Confirm" : function() {
				// Funkcja
				$(this).dialog('close');
				},
				"Cancel" : function() {
				$(this).dialog('close');
				}
			}
			})
			attack_confirm.dialog('option', 'title', 'Are You sure want to attack ' + Ontario + '?');
			});

		});

		$('#Greenland_container button').toggle('fade', function() {
			$(this).click(function(){
			var Greenland = countries_to_attack[3];
			attack_confirm.dialog({
			draggable: false,
			resizable: false,
			minHeight: 10,
			width: 450,
			height: 220,
			modal: true,
			buttons : {
				"Confirm" : function() {
				// Funkcja
				$(this).dialog('close');
				},
				"Cancel" : function() {
				$(this).dialog('close');
				}
			}
			})
			attack_confirm.dialog('option', 'title', 'Are You sure want to attack ' + Greenland + '?');
			});

		});
		$('.country_container').click(false);

	 }); // Koniec funckji click na North_West


// JSON

/*var players = ['ignacy', 'gracz2', 'gracz3', 'gracz4'];
var ignacy = players[0];
ignacy = {
	"name": "ignacy",
	"countries": "5",
	"all_units": "32",
	"Quebec": "4"
}

*/
}); //Koniec funkcji ready




</script>


</body>
</html>